---
import Layout from '../../layouts/Layout.astro';
import Hero from '../../components/shared/Hero.astro';
import FeaturesGrid from '../../components/shared/FeaturesGrid.astro';
import FeatureSection from '../../components/shared/FeatureSection.astro';
import Cta from '../../components/shared/Cta.astro';
import Footer from '../../components/shared/Footer.astro';
import StepsSection from '../../components/shared/StepsSection.astro';
import texts from '../../i18n/pa';
import TemplateExamples from '../../components/home/TemplateExamples.tsx';
import ExampleCard from '../../components/shared/ExampleCard.astro';
import { Users, Check, Gift, Link as LinkIcon, LayoutDashboard, Table2 } from '@lucide/astro';
import app1 from '../../assets/images/app_gestion.png';
import app2 from '../../assets/images/app_compartir.png';
import app3 from '../../assets/images/app_invitados.png';
import app5 from '../../assets/images/app_mesas.png';
import app6 from '../../assets/images/app_lista.png';

const featureSections = texts.home.features.map((feature, idx) => ({
  ...feature,
  image: [app3.src, app2.src, app1.src, app5.src, app6.src][idx],
  icon: [Check, LayoutDashboard, Users, Table2, Gift][idx],
  color: ["emerald", "purple", "blue", "rose", "pink"][idx]
}));
---
<Layout
  title={texts.home.title}
  description={texts.home.description}
  texts={texts}
>
  <main>
    <Hero texts={texts} />
    <StepsSection
      title={texts.home.stepsSection.title}
      subtitle={texts.home.stepsSection.subtitle}
      steps={texts.home.stepsSection.steps}
    />
    <TemplateExamples 
      title={texts.home.templateExamples.title}
      description={texts.home.templateExamples.description}
      buttonText={texts.home.templateExamples.buttonText}
      templates={texts.home.templateExamples.templates}
      client:load 
    />
    <FeatureSection id="feature-section" section={featureSections[0]} isEven={true} />
    <FeatureSection section={featureSections[1]} isEven={false} />
    <FeatureSection section={featureSections[2]} isEven={true} />
    <FeatureSection section={featureSections[3]} isEven={false} />
    <FeatureSection section={featureSections[4]} isEven={true} />
    <section class="max-w-7xl mx-auto px-4 sm:px-8 py-16">
      <div class="text-center mb-10">
        <h2 class="text-3xl md:text-4xl font-bold text-rose-600 mb-4">
          {texts.home.examplesSection.title}
        </h2>
        <p class="text-lg text-gray-600 max-w-2xl mx-auto">
          {texts.home.examplesSection.description}
        </p>
      </div>
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8">
        {texts.home.examplesSection.examples.map((ejemplo) => (
          <ExampleCard
            nombre={ejemplo.name}
            imagen={ejemplo.image}
            enlace={ejemplo.link}
            color={ejemplo.color}
            buttonText={texts.home.exampleCard?.button ?? 'See example'}
          />
        ))}
      </div>
      <div class="text-center mt-8">
        <a href="/ejemplos" class="inline-block px-8 py-3 rounded-full bg-gradient-to-r from-rose-500 to-rose-600 text-white font-semibold shadow hover:from-rose-600 hover:to-rose-700 transition">
          {texts.home.examplesSection.cta}
        </a>
      </div>
    </section>
    <Cta
      title={texts.home.cta.title}
      description={texts.home.cta.description}
      button={texts.home.cta.button}
    />
    <FeaturesGrid
    title={texts.home.featuresGrid.title}
    subtitle={texts.home.featuresGrid.subtitle}
    features={texts.home.featuresGrid.features}
  />    <Footer />  
  </main>
</Layout>